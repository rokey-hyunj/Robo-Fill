<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 900" style="background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%)">
  <defs>
    <!-- Gradients -->
    <linearGradient id="cardGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1e3a8a;stop-opacity:0.2" />
      <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:0.1" />
    </linearGradient>
    
    <linearGradient id="robotGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6366f1;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="carGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="cameraGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
    </linearGradient>

    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#60a5fa" />
    </marker>
    
    <!-- Glow filter -->
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Title -->
  <text x="700" y="50" text-anchor="middle" font-family="'SF Pro Display', -apple-system, sans-serif" font-size="36" font-weight="700" fill="#f8fafc">
    Robo-Fill System Architecture
  </text>
  <text x="700" y="80" text-anchor="middle" font-family="'SF Pro Text', -apple-system, sans-serif" font-size="16" fill="#94a3b8">
    Isaac Sim Environment - UR10 Dual Arm System
  </text>

  <!-- Main Container -->
  <rect x="50" y="110" width="1300" height="750" rx="20" fill="url(#cardGrad)" stroke="#3b82f6" stroke-width="2" opacity="0.3"/>

  <!-- ========== CAMERA & VISION SYSTEM ========== -->
  <g id="camera-system">
    <rect x="100" y="150" width="280" height="160" rx="12" fill="#1e293b" stroke="url(#cameraGrad)" stroke-width="3" filter="url(#glow)"/>
    
    <!-- Camera Icon -->
    <circle cx="150" cy="190" r="25" fill="url(#cameraGrad)"/>
    <circle cx="150" cy="190" r="15" fill="#1e293b"/>
    <rect x="165" y="180" width="20" height="20" fill="url(#cameraGrad)"/>
    
    <text x="200" y="195" font-family="'SF Pro Display', sans-serif" font-size="20" font-weight="600" fill="#f59e0b">
      Vision System
    </text>
    <text x="120" y="225" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      • Camera: 256×256 RGB
    </text>
    <text x="120" y="245" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      • Position: (0, 0, 3)
    </text>
    <text x="120" y="265" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      • Frequency: 20Hz
    </text>
    <text x="120" y="285" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      • ArUco Detection
    </text>
  </g>

  <!-- ========== ARUCO MARKER DETECTION ========== -->
  <g id="aruco-detection">
    <rect x="420" y="150" width="280" height="160" rx="12" fill="#1e293b" stroke="#3b82f6" stroke-width="3"/>
    
    <!-- ArUco Marker Icon -->
    <g transform="translate(450, 175)">
      <rect width="50" height="50" fill="#f8fafc" stroke="#3b82f6" stroke-width="2"/>
      <rect x="5" y="5" width="8" height="8" fill="#1e293b"/>
      <rect x="18" y="5" width="8" height="8" fill="#1e293b"/>
      <rect x="31" y="5" width="8" height="8" fill="#1e293b"/>
      <rect x="5" y="18" width="8" height="8" fill="#1e293b"/>
      <rect x="31" y="18" width="8" height="8" fill="#1e293b"/>
      <rect x="5" y="31" width="8" height="8" fill="#1e293b"/>
      <rect x="18" y="31" width="8" height="8" fill="#1e293b"/>
      <rect x="31" y="31" width="8" height="8" fill="#1e293b"/>
    </g>
    
    <text x="520" y="200" font-family="'SF Pro Display', sans-serif" font-size="20" font-weight="600" fill="#3b82f6">
      ArUco Marker
    </text>
    <text x="520" y="223" font-family="'SF Pro Display', sans-serif" font-size="18" fill="#94a3b8">
      Detection
    </text>
    <text x="440" y="250" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      • DICT_4X4_50
    </text>
    <text x="440" y="270" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      • ID → Customer Info
    </text>
    <text x="440" y="290" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      • Pose Estimation
    </text>
  </g>

  <!-- ========== CUSTOMER DATABASE ========== -->
  <g id="customer-db">
    <rect x="740" y="150" width="280" height="160" rx="12" fill="#1e293b" stroke="#10b981" stroke-width="3"/>
    
    <!-- Database Icon -->
    <ellipse cx="780" cy="180" rx="25" ry="15" fill="#10b981" opacity="0.3"/>
    <ellipse cx="780" cy="190" rx="25" ry="15" fill="#10b981" opacity="0.5"/>
    <ellipse cx="780" cy="200" rx="25" ry="15" fill="#10b981"/>
    
    <text x="820" y="200" font-family="'SF Pro Display', sans-serif" font-size="20" font-weight="600" fill="#10b981">
      Customer Info
    </text>
    <text x="760" y="235" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      • Fuel Type (L/D/G)
    </text>
    <text x="760" y="255" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      • Oil Pose (Left/Right)
    </text>
    <text x="760" y="275" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      • Vehicle Type
    </text>
    <text x="760" y="295" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      • Customer Name
    </text>
  </g>

  <!-- ========== CONTROL LOGIC ========== -->
  <g id="control-logic">
    <rect x="100" y="350" width="920" height="160" rx="12" fill="#1e293b" stroke="#f59e0b" stroke-width="3" filter="url(#glow)"/>
    
    <text x="560" y="385" text-anchor="middle" font-family="'SF Pro Display', sans-serif" font-size="24" font-weight="700" fill="#f59e0b">
      Phase Control Logic (main.py)
    </text>
    
    <!-- Phase boxes -->
    <g transform="translate(120, 410)">
      <rect width="200" height="80" rx="8" fill="#422006" stroke="#f59e0b" stroke-width="2"/>
      <text x="100" y="25" text-anchor="middle" font-family="'SF Pro Display', sans-serif" font-size="16" font-weight="600" fill="#fbbf24">Phase 1</text>
      <text x="100" y="45" text-anchor="middle" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">Vehicle Entry</text>
      <text x="100" y="63" text-anchor="middle" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">&amp; Alignment</text>
    </g>
    
    <g transform="translate(340, 410)">
      <rect width="200" height="80" rx="8" fill="#3730a3" stroke="#8b5cf6" stroke-width="2"/>
      <text x="100" y="25" text-anchor="middle" font-family="'SF Pro Display', sans-serif" font-size="16" font-weight="600" fill="#a78bfa">Phase 2</text>
      <text x="100" y="45" text-anchor="middle" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">Refueling Task</text>
      <text x="100" y="63" text-anchor="middle" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">(7 Sub-tasks)</text>
    </g>
    
    <g transform="translate(560, 410)">
      <rect width="200" height="80" rx="8" fill="#065f46" stroke="#10b981" stroke-width="2"/>
      <text x="100" y="25" text-anchor="middle" font-family="'SF Pro Display', sans-serif" font-size="16" font-weight="600" fill="#34d399">Phase 3</text>
      <text x="100" y="45" text-anchor="middle" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">Vehicle Exit</text>
      <text x="100" y="63" text-anchor="middle" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">x = -20</text>
    </g>
    
    <g transform="translate(780, 410)">
      <rect width="200" height="80" rx="8" fill="#1e3a8a" stroke="#3b82f6" stroke-width="2"/>
      <text x="100" y="25" text-anchor="middle" font-family="'SF Pro Display', sans-serif" font-size="16" font-weight="600" fill="#60a5fa">Phase 4</text>
      <text x="100" y="45" text-anchor="middle" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">Next Vehicle</text>
      <text x="100" y="63" text-anchor="middle" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">Ready</text>
    </g>
  </g>

  <!-- ========== LEFT UR10 ROBOT ========== -->
  <g id="left-robot">
    <rect x="100" y="560" width="280" height="260" rx="12" fill="#1e293b" stroke="url(#robotGrad)" stroke-width="3" filter="url(#glow)"/>
    
    <!-- Robot Arm Icon -->
    <g transform="translate(120, 580)">
      <circle cx="20" cy="20" r="12" fill="#8b5cf6"/>
      <rect x="32" y="14" width="40" height="12" fill="#6366f1" rx="3"/>
      <circle cx="72" cy="20" r="8" fill="#8b5cf6"/>
      <rect x="80" y="16" width="30" height="8" fill="#a78bfa" rx="2"/>
      <circle cx="110" cy="20" r="6" fill="#8b5cf6"/>
    </g>
    
    <text x="260" y="595" font-family="'SF Pro Display', sans-serif" font-size="20" font-weight="700" fill="#8b5cf6">
      Left UR10
    </text>
    <text x="120" y="645" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      Position: (1.5, 1.3, 0)
    </text>
    <text x="120" y="665" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      DOF: 6-axis
    </text>
    <text x="120" y="685" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      Controller: RMPflow
    </text>
    <text x="120" y="705" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      Gripper: Surface Suction
    </text>
    
    <text x="120" y="735" font-family="'SF Pro Display', sans-serif" font-size="14" font-weight="600" fill="#a78bfa">
      Fuel Nozzles:
    </text>
    <text x="130" y="755" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • LPG (0.9, 2.2)
    </text>
    <text x="130" y="773" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • Diesel (0.9, 1.85)
    </text>
    <text x="130" y="791" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • Gasoline (0.9, 1.5)
    </text>
  </g>

  <!-- ========== RIGHT UR10 ROBOT ========== -->
  <g id="right-robot">
    <rect x="420" y="560" width="280" height="260" rx="12" fill="#1e293b" stroke="url(#robotGrad)" stroke-width="3" filter="url(#glow)"/>
    
    <!-- Robot Arm Icon (mirrored) -->
    <g transform="translate(440, 580)">
      <circle cx="20" cy="20" r="12" fill="#8b5cf6"/>
      <rect x="32" y="14" width="40" height="12" fill="#6366f1" rx="3"/>
      <circle cx="72" cy="20" r="8" fill="#8b5cf6"/>
      <rect x="80" y="16" width="30" height="8" fill="#a78bfa" rx="2"/>
      <circle cx="110" cy="20" r="6" fill="#8b5cf6"/>
    </g>
    
    <text x="580" y="595" font-family="'SF Pro Display', sans-serif" font-size="20" font-weight="700" fill="#8b5cf6">
      Right UR10
    </text>
    <text x="440" y="645" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      Position: (1.5, -1.3, 0)
    </text>
    <text x="440" y="665" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      DOF: 6-axis
    </text>
    <text x="440" y="685" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      Controller: RMPflow
    </text>
    <text x="440" y="705" font-family="'SF Mono', monospace" font-size="13" fill="#cbd5e1">
      Gripper: Surface Suction
    </text>
    
    <text x="440" y="735" font-family="'SF Pro Display', sans-serif" font-size="14" font-weight="600" fill="#a78bfa">
      Fuel Nozzles:
    </text>
    <text x="450" y="755" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • LPG (0.9, -2.2)
    </text>
    <text x="450" y="773" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • Diesel (0.9, -1.85)
    </text>
    <text x="450" y="791" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • Gasoline (0.9, -1.5)
    </text>
  </g>

  <!-- ========== VEHICLE CONTROL ========== -->
  <g id="vehicle-control">
    <rect x="740" y="560" width="280" height="260" rx="12" fill="#1e293b" stroke="url(#carGrad)" stroke-width="3"/>
    
    <!-- Car Icon -->
    <g transform="translate(760, 575)">
      <rect x="10" y="15" width="80" height="35" rx="8" fill="#10b981"/>
      <rect x="5" y="35" width="15" height="15" rx="7" fill="#064e3b"/>
      <rect x="80" y="35" width="15" height="15" rx="7" fill="#064e3b"/>
      <rect x="25" y="20" width="25" height="20" rx="3" fill="#1e293b"/>
      <rect x="55" y="20" width="25" height="20" rx="3" fill="#1e293b"/>
    </g>
    
    <text x="860" y="595" font-family="'SF Pro Display', sans-serif" font-size="20" font-weight="700" fill="#10b981">
      Vehicle Control
    </text>
    
    <text x="760" y="650" font-family="'SF Pro Display', sans-serif" font-size="14" font-weight="600" fill="#34d399">
      Car (Sedan):
    </text>
    <text x="770" y="670" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      Start: (25.0, 0.2, 0.0)
    </text>
    
    <text x="760" y="695" font-family="'SF Pro Display', sans-serif" font-size="14" font-weight="600" fill="#34d399">
      Taxi:
    </text>
    <text x="770" y="715" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      Start: (15.0, 0.0, 0.0)
    </text>
    
    <text x="760" y="740" font-family="'SF Pro Display', sans-serif" font-size="14" font-weight="600" fill="#34d399">
      Benz SUV:
    </text>
    <text x="770" y="760" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      Start: (3.0, 1.4, 0.2)
    </text>
    <text x="770" y="778" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      Scale: 0.6
    </text>
    
    <text x="760" y="803" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      Wheel Speed: 300.0
    </text>
  </g>

  <!-- ========== ISAAC SIM ENVIRONMENT ========== -->
  <g id="isaac-sim">
    <rect x="1070" y="150" width="250" height="670" rx="12" fill="#1e293b" stroke="#60a5fa" stroke-width="3"/>
    
    <text x="1195" y="190" text-anchor="middle" font-family="'SF Pro Display', sans-serif" font-size="20" font-weight="700" fill="#60a5fa">
      Isaac Sim
    </text>
    <text x="1195" y="215" text-anchor="middle" font-family="'SF Pro Display', sans-serif" font-size="16" fill="#94a3b8">
      Environment
    </text>
    
    <!-- Environment details -->
    <text x="1090" y="250" font-family="'SF Pro Display', sans-serif" font-size="14" font-weight="600" fill="#3b82f6">
      Simulation:
    </text>
    <text x="1100" y="270" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • Physics: 1/60s
    </text>
    <text x="1100" y="288" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • USD Format
    </text>
    <text x="1100" y="306" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • Real-time
    </text>
    
    <text x="1090" y="340" font-family="'SF Pro Display', sans-serif" font-size="14" font-weight="600" fill="#3b82f6">
      Assets:
    </text>
    <text x="1100" y="360" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • default_world.usd
    </text>
    <text x="1100" y="378" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • car.usd
    </text>
    <text x="1100" y="396" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • taxi.usd
    </text>
    <text x="1100" y="414" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • benz.usd
    </text>
    
    <text x="1090" y="448" font-family="'SF Pro Display', sans-serif" font-size="14" font-weight="600" fill="#3b82f6">
      Lighting:
    </text>
    <text x="1100" y="468" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • Distant Light
    </text>
    <text x="1100" y="486" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • Intensity: 1000
    </text>
    
    <text x="1090" y="520" font-family="'SF Pro Display', sans-serif" font-size="14" font-weight="600" fill="#3b82f6">
      Coordinates:
    </text>
    <text x="1100" y="540" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • Units: Meters
    </text>
    <text x="1100" y="558" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • World Origin
    </text>
    
    <text x="1090" y="592" font-family="'SF Pro Display', sans-serif" font-size="14" font-weight="600" fill="#3b82f6">
      Target Zone:
    </text>
    <text x="1100" y="612" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • X = 0.0 ± 0.5m
    </text>
    <text x="1100" y="630" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • Stop Distance
    </text>
    
    <text x="1090" y="664" font-family="'SF Pro Display', sans-serif" font-size="14" font-weight="600" fill="#3b82f6">
      Performance:
    </text>
    <text x="1100" y="684" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • Precision: ±1mm
    </text>
    <text x="1100" y="702" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • Task Time: ~30s
    </text>
    <text x="1100" y="720" font-family="'SF Mono', monospace" font-size="12" fill="#cbd5e1">
      • Success: 92.5%
    </text>
    
    <!-- Isaac Sim Logo Area -->
    <g transform="translate(1195, 760)">
      <circle r="30" fill="#3b82f6" opacity="0.2"/>
      <text y="8" text-anchor="middle" font-family="'SF Pro Display', sans-serif" font-size="20" font-weight="700" fill="#60a5fa">
        SIM
      </text>
    </g>
  </g>

  <!-- ========== ARROWS ========== -->
  <!-- Camera to ArUco -->
  <line x1="380" y1="230" x2="420" y2="230" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- ArUco to Customer DB -->
  <line x1="700" y1="230" x2="740" y2="230" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Camera to Control -->
  <line x1="240" y1="310" x2="240" y2="350" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Customer DB to Control -->
  <line x1="880" y1="310" x2="880" y2="350" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Control to Left Robot -->
  <line x1="240" y1="510" x2="240" y2="560" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Control to Right Robot -->
  <line x1="560" y1="510" x2="560" y2="560" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Control to Vehicle -->
  <line x1="880" y1="510" x2="880" y2="560" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Data flow labels -->
  <text x="395" y="220" font-family="'SF Mono', monospace" font-size="11" fill="#94a3b8">RGB</text>
  <text x="715" y="220" font-family="'SF Mono', monospace" font-size="11" fill="#94a3b8">ID</text>
  <text x="250" y="335" font-family="'SF Mono', monospace" font-size="11" fill="#94a3b8">Image</text>
  <text x="890" y="335" font-family="'SF Mono', monospace" font-size="11" fill="#94a3b8">Info</text>
  <text x="250" y="540" font-family="'SF Mono', monospace" font-size="11" fill="#94a3b8">Left Cmd</text>
  <text x="560" y="540" font-family="'SF Mono', monospace" font-size="11" fill="#94a3b8">Right Cmd</text>
  <text x="880" y="540" font-family="'SF Mono', monospace" font-size="11" fill="#94a3b8">Move</text>

  <!-- Footer -->
  <text x="700" y="885" text-anchor="middle" font-family="'SF Mono', monospace" font-size="12" fill="#64748b">
    L: LPG | D: Diesel | G: Gasoline | RMPflow: Riemannian Motion Policy
  </text>
</svg>